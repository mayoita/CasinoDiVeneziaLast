!function(){var t=jQuery;if(t.fn.removeClassPrefix=function(t){return this.each(function(e,a){var i=a.className.split(" ").filter(function(e){return 0!==e.lastIndexOf(t,0)});a.className=i.join(" ")}),this},void 0!==Drupal.ajax&&(Drupal.ajax.prototype.commands.progressive_cms_blog_timeline=function(e,a,i){var n=t("#"+a.selector).closest(".post");n.find(".livicon").attr("data-n",a.data.livicon).updateLivicon({name:a.data.livicon}),n.find(".timeline-content, .timeline-icon").removeClassPrefix("bg").removeClassPrefix("border"),n.find(".timeline-icon").addClass("bg-"+a.data.color);var r=a.data.tranparent_bg?"border border-":"bg bg-";n.find(".timeline-content").addClass(r+a.data.color),a.data.title?n.find(".entry-title").show():n.find(".entry-title").hide(),a.data.no_padding?n.addClass("no-padding"):n.removeClass("no-padding")}),Drupal.behaviors.rotate_blocks={attach:function(e,a){navigator.userAgent.match(/iPad|iPhone|Android/i)||t(".product, .employee",e).hover(function(e){e.preventDefault(),t(this).addClass("hover")},function(e){e.preventDefault(),t(this).removeClass("hover")})}},Drupal.behaviors.href_click={attach:function(e,a){t('a[href="#"]').click(function(){return!1})}},Drupal.behaviors.attachSelectBox={attach:function(e,a){void 0!==t.fn.selectBox&&t('select:not(".without-styles")').selectBox()}},Drupal.behaviors.removefromcart={attach:function(e,a){t(".cart-header .product-remove:not(.ajax-processed)").once("ajax").click(function(){return t.post(t(this).attr("href")),t(this).parents("li").animate({opacity:0,height:0},700,function(){t(this).remove(),t(".cart-count").text(parseInt(t(".cart-header .cart-count").text())-1)}),!1}),t(".button-click:not(.click-processed)").once("click").click(function(){return t(this).prev("input").click(),!1})}},Drupal.behaviors.removefromcompare={attach:function(e,a){t("#compare-table .product-remove:not(.ajax-processed)",e).once("ajax").click(function(){return t.post(t(this).attr("href")),t("#compare-table tr .data-index-"+t(this).attr("data-index")).animate({opacity:0,height:0},700,function(){t(this).remove()}),t(".compare-header .flag-counter").text(parseInt(t(".compare-header .flag-counter").text())-1),!1})}},Drupal.behaviors.contextual_form={attach:function(e,a){t(".contextual-form:not(.contextual-form-processed)",e).once("contextual-form").click(function(t){t.stopPropagation()})}},Drupal.behaviors.livicons={attach:function(e,a){void 0!==t.fn.updateLivicon&&t(".livicon:not(.livicon-processed)",e).once("livicon").updateLivicon()}},Drupal.behaviors.add_cart_link={attach:function(e,a){t(".add-cart.js-active-link",e).click(function(){return t(this).addClass("unflag-action"),t(this).closest(".actions").find("input.form-submit").click(),!1})}},Drupal.behaviors.quantity_regulator={attach:function(e,a){t(".number-up",e).click(function(){var e=t(this).closest(".number").find('input[type="text"]').attr("value");return t(this).closest(".number").find('input[type="text"]').attr("value",parseFloat(e)+1),!1}),t(".number-down",e).click(function(){var e=t(this).closest(".number").find('input[type="text"]').attr("value");return e>1&&t(this).closest(".number").find('input[type="text"]').attr("value",parseFloat(e)-1),!1})}},Drupal.behaviors.charts={attach:function(e,a){t(".graph-resize").html(""),t(".bar-with-title",e).each(function(){return Morris.Bar({element:t(this).attr("id"),data:t(this).data("values"),xkey:"item",ykeys:["value"],labels:[t(this).attr("data-label")],barRatio:.4,xLabelAngle:35,hideHover:"auto",barColors:["#ef005c"]})}),t(".donut-graph",e).each(function(){Morris.Donut({element:t(this).attr("id"),data:t(this).data("values"),colors:t(this).data("colors"),height:100,formatter:function(t){return t+"%"}})})}},Drupal.behaviors.view_price_filter={attach:function(e,a){if(void 0!==t.fn.slider&&t("#filter",e).length){var i=parseInt(t("#filter",e).parents(".view").find(".form-control[name*=min]").val().substr(0,4)),n=parseInt(t("#filter",e).parents(".view").find(".form-control[name*=max]").val().substr(0,4));t("#filter",e).attr("value",i+";"+n),t("#filter",e).slider({from:i-3,to:n+3,limits:!1,step:1,dimension:"",calculate:function(t){return t},callback:function(a){var i=a.split(";");t("#filter",e).parents(".view").find(".form-control[name*=min]").val(i[0]),t("#filter",e).parents(".view").find(".form-control[name*=max]").val(i[1]).change()}})}void 0!==t.fn.slider&&t("#edit-sell-price-wrapper, #edit-list-price-wrapper",e).each(function(){t(this).after('<div class="price-regulator pull-right"><b>'+t(this).find("> label").text()+':</b><div class="layout-slider"><input type="slider" name="year" value="$0;$2000" class="form-control price-filter"></div></div>'),t(this).hide();var a=parseInt(t(this).find("input[name$='[min]']").val()),i=parseInt(t(this).find("input[name$='[max]']").val()),n=t(this);t(".price-filter",e).attr("value",a+";"+i),t(".price-filter",e).slider({from:a>500?a-500:0,to:i+500,limits:!1,step:1,dimension:"&nbsp;"+Drupal.settings.ubercart_currency,calculate:function(t){return t},callback:function(t){var e=t.split(";");n.find("input[name$='[min]']").val(e[0]),n.find("input[name$='[max]']").val(e[1]).change()}})}),void 0!==t.fn.slider&&t(".jslider-pointer").html('\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 8 12" enable-background="new 0 0 8 12" xml:space="preserve">\n          <path fill-rule="evenodd" clip-rule="evenodd" fill="#1e1e1e" d="M2,0h4c1.1,0,2,0.9,2,2l-2,8c-0.4,1.1-0.9,2-2,2l0,0c-1.1,0-1.6-0.9-2-2L0,2C0,0.9,0.9,0,2,0z"/>\n        </svg>\n        ')}},!navigator.userAgent.match(/iPad|iPhone|Android/i)){var e=function(){var t={};return function(e,a,i){null!==a&&(i=null!==i?i:100,clearTimeout(t[a]),t[a]=setTimeout(e,i))}}();t(window).on("resize",function(){e(function(){var e;return clearTimeout(e),e=setTimeout(function(){return Drupal.behaviors.charts.attach(t(document),Drupal.settings)},500)},"resize")})}t(document).ready(function(){t('.dropdown-toggle[href="#"]').click(function(){t(this).parent().toggleClass("open")}),t(document).bind("flagGlobalAfterLinkUpdate",function(e,a){if("compare"==a.flagName||"wishlist"==a.flagName){var i=parseInt(t(".flag-count-"+a.flagName).text())+("unflagged"==a.flagStatus?-1:1);i>0?t(".flag-status-"+a.flagName+", .flag-count-"+a.flagName).show():t(".flag-status-"+a.flagName+", .flag-count-"+a.flagName).hide(),t(".flag-count-"+a.flagName).text(i)}}),t(".modern-gallery-action a").click(function(){var e=3*t(this).attr("href").substr(1);return $this=t(this),t.post(Drupal.settings.basePath+"progressive/save_variable",{variable:"progressive_modern_gallery",variable_key:t(this).parents(".modern-gallery-action").attr("data-id"),value:e},function(){$this.parents(".images-box").removeClassPrefix("col-md-").addClass("col-md-"+e),t(window).resize()}),!1})})}();