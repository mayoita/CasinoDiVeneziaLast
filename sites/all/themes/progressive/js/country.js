!function(s){s.fn.county=function(t){var n=s.extend({endDateTime:new Date,animation:"fade",reflection:!0,reflectionOpacity:.2,speed:500,theme:"black"},t);return this.each(function(){function t(){clearTimeout(r),r=setTimeout(function(){a()},1e3)}function a(){var s=i(),a=c.find(".county-days"),o=c.find(".county-hours"),r=c.find(".county-minutes"),u=c.find(".county-seconds"),d=a.html(),h=o.html(),p=r.html(),f=u.html();d==s.days?a.html(s.days):n.reflection?e(a,l.find(".county-days"),d,s.days,n.animation):e(a,null,d,s.days,n.animation),h==s.hours?o.html(s.hours):n.reflection?e(o,l.find(".county-hours"),h,s.hours,n.animation):e(o,null,h,s.hours,n.animation),p==s.minutes?r.html(s.minutes):n.reflection?e(r,l.find(".county-minutes"),p,s.minutes,n.animation):e(r,null,p,s.minutes,n.animation),f==s.seconds?u.html(s.seconds):n.reflection?e(u,l.find(".county-seconds"),f,s.seconds,n.animation):e(u,null,f,s.seconds,n.animation),t()}function e(t,a,e,i,o){if("fade"==o)t.fadeOut("fast").fadeIn("fast").html(i),n.reflection&&a.fadeOut("fast").fadeIn("fast").html(i);else if("scroll"==o){var r=t.clone(),c=null;n.reflection&&(c=a.clone());var u=r.outerHeight();r.css({marginTop:-u}),r.html(i),r.prependTo(t.parent()),n.reflection&&(c.css({marginTop:-u}),c.html(i),c.prependTo(a.parent())),t.animate({marginTop:u},n.speed,function(){s(this).remove()}),r.animate({marginTop:0},n.speed,function(){}),n.reflection&&(a.animate({marginTop:u},n.speed,function(){s(this).remove()}),c.animate({marginTop:0},n.speed,function(){}))}}function i(){var s=new Date,t=parseFloat(n.endDateTime-s),a=0,e=0,i=0,r=parseFloat(t/1e3/60/60/24),c=parseInt(r);return r-=c,r*=24,i=parseInt(r),r-=i,r*=60,e=parseInt(r),r-=e,r*=60,a=parseInt(r),{days:o(Math.max(0,c),!0),hours:o(Math.max(0,i),!1),minutes:o(Math.max(0,e),!1),seconds:o(Math.max(0,a),!1)}}function o(s,t){var n=s.toString();return t?1==n.length?"00"+n:2==n?"0"+n:n:1==n.length?"0"+n:n}var r=null,c=s(this);c.addClass("county "+n.theme),c.append('<span class="county-days-wrapper first"><span class="county-days">000</span></span><span class="county-hours-wrapper separator-left border-separator-right"><span class="county-hours">00</span></span><span class="county-minutes-wrapper separator-left separator-left"><span class="county-minutes">00</span></span><span class="county-seconds-wrapper separator-left last"><span class="county-seconds">00</span></span><div class="clearfix"></div><span class="county-label-days">Days</span><span class="county-label-hours">Hours</span><span class="county-label-minutes">Min<i>utes</i></span><span class="county-label-seconds">Sec<i>onds</i></span>'),void 0!=c.attr("id")&&null!=c.attr("id")||c.attr("id",Math.random());var u=0;c.find(">span").each(function(){(s(this).hasClass("county-days-wrapper")||s(this).hasClass("county-hours-wrapper")||s(this).hasClass("county-minutes-wrapper")||s(this).hasClass("county-seconds-wrapper"))&&(u+=s(this).outerWidth())}),c.css({width:u}),c.find(">span>span").each(function(){s(this).css({width:s(this).width(),height:s(this).height()}),s(this).parent().css({width:s(this).width()}),s(this).addClass("loaded");var t=c.find(".county-label-days"),n=c.find(".county-label-hours"),a=c.find(".county-label-minutes"),e=c.find(".county-label-seconds");s(this).hasClass("county-days")&&t.css({width:s(this).parent().outerWidth()}),s(this).hasClass("county-hours")&&n.css({width:s(this).parent().outerWidth()}),s(this).hasClass("county-minutes")&&a.css({width:s(this).parent().outerWidth()}),s(this).hasClass("county-seconds")&&e.css({width:s(this).parent().outerWidth()})});var l=c.clone().css({opacity:n.reflectionOpacity}).attr("id",c.attr("id")+"-refl").addClass("county-reflection");return n.reflection&&c.after(l),a(),t(),this})}}(jQuery);